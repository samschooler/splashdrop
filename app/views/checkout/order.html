{% extends '../layout.html' %}

{% block header-left %}
<div class="menu left">
  <ul class="menu-list">
  </ul>
</div>
{% endblock header-left %}

{% block header-right %}
<a class="edit-order btn little-btn red" href="/order/shop">
  <span>Edit Order</span>
</a>
{% endblock header-right %}

{% block body %}
<div class="section-header content">
  <h2 class="section-header-title">Your Delivery</h2>
  <h4 class="section-header-subtitle js-required">On Demand or Scheduled.</h4>
  <noscript>
    <h4 class="section-header-subtitle">Warm and freshly baked.</h4>
  </noscript>
</div>
<section class="order-form content">
  <section class="delivery-settings content">

  </section>
  <form class="delivery-form" action="/order" method="post">
  <section class="col-container">
    <div class="col col-60">
      <div class="order-info">
        <h4>Your Info</h4>
        <div class="input-holder">
          <span class="order-input order-info-person order-info-col col-50"><input type="text" name="customer-first-name" value="" placeholder="Your First Name" /></span>
          <span class="order-input order-info-person order-info-col col-50"><input type="text" name="customer-last-name" value="" placeholder="Your Last Name" /></span>
          <div class="clear"></div>
        </div>
        <div class="input-holder">
          <span class="order-input order-info-person order-info-col col-100"><input type="text" name="customer-phone" value="" placeholder="Your Phone Number" /></span>
          <div class="clear"></div>
        </div>
        <h4 class="left">Delivery Info</h4><span class="right hide"><label><input type="checkbox" name="name" value=""> This is for someone else <i class="fa fa-gift"></i></span></label>
        <div class="clear"></div>
        <div class="input-holder">
          <span class="order-input order-info-address order-info-col col-100"><input type="text" name="delivery-address" value="" id="autocomplete" placeholder="Street Address/Building Name" /></span>
          <div class="clear"></div>
        </div>
        <div class="input-holder">
          <span class="order-input order-info-address order-info-col col-50"><input type="text" name="delivery-suite" value="" placeholder="Apt/Suite" /></span>
          <span class="order-input order-info-location order-info-col col-50"><input type="text" name="delivery-zip" id="zip" value="{{ order.zip }}" placeholder="Zip Code" /></span>
          <div class="clear"></div>
        </div>
        <div class="input-holder">
          <div class="order-input order-info-col col-100">
            <textarea class="js-required" name="delivery-notes-js" placeholder="Delivey Notes. Where do you want is delivered? The lobby? Your room?"></textarea>
            <noscript><textarea name="delivery-notes" placeholder="Delivey Notes. Also include when you want your cookies delivered (now or later). We are open 8PM-12AM M-F."></textarea></noscript>
          </div>
          <div class="clear"></div>
        </div>
        <h4>Payment Options</h4>
        <div class="input-holder js-required">
          <span class="delivery-type-text">I would like to pay with </span>
          <select class="delivery-payment-selection delivery-payment col col-100" name="payment-type">
            <option value="credit-card">a credit card.</option>
            <option value="cash">cash.</option>
          </select>
        </div>
        <noscript>You can pay with cash or a credit card on delivery. In order to pay with a credit card now, you must turn on javascript.</noscript>
        <div class="delivery-payment-form js-required">
          <div class="input-holder">
            <span class="order-input order-info-card-number order-info-col col-100"><input type="text" autocomplete="off" data-braintree-name="number" value="" placeholder="Card Number" /></span>
            <div class="clear"></div>
          </div>
          <div class="input-holder">
            <span class="order-input order-info-card-name order-info-col col-50"><input type="text" autocomplete="off" data-braintree-name="cardholder_name" value="" placeholder="Card Holder Name" /></span>
            <span class="order-input order-info-card-date order-info-col col-30"><input type="text"   autocomplete="off" data-braintree-name="expiration_date" value="" placeholder="MM/YY" /></span>
            <span class="order-input order-info-card-cvc order-info-col col-20"><input type="text"  autocomplete="off" data-braintree-name="cvv" value="" placeholder="CVV" /></span>
            <div class="clear"></div>
          </div>
          <div class="input-holder">
            <div class="clear"></div>
          </div>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <div class="col col-40">
      <div class="order-recipt">
        <h4 class="left">Your Items (<span class="total-quantity">{{order.quantity}}</span>)</h4><a href="/order/shop" class="right">Edit Order</a>
        <div class="clear"></div>
        <div class="order-recipt-bg">
          <table class="order-products product-form">
            {% for item in order.products %}
            <tr class="order-product">
              <td class="order-product-quantity">{{ item.quantity }}</td>
              <td>x</td>
              <td class="order-product-name">{{ item.name }}</td>
              <td class="order-product-price">
                $<span class="the-real-price">{{ item.price }}</span>
              </td>
              <td class="order-product-rm">
                <a href="/order/api/removeProduct/{{ item.id }}" class="product-remove" name="product-remove" data-id="{{ item.id }}">
                  <i class="fa fa-times"></i>
                  <i class="fa fa-refresh fa-spin hide"></i>
                </a>
              </td>
            </tr>
            {% endfor %}
            <tr class="order-product con-fee {% if order.products.length === 0 %} hide{% endif %}">
              <td class="order-product-quantity"></td>
              <td></td>
              <td class="order-product-name">Delivery</td>
              <td class="order-product-price">
                $<span class="the-real-price">{{ order.fee }}</span>
              </td>
              <td class="order-product-rm"></td>
            </tr>
          </table>
          <a href="/order/shop" class="emptycart{% if order.products.length !== 0 %} hide{% endif %}">Your cart is empty! Add something to it!</a>
          <hr class="top-30">
          <div class="total-text">Total : <span class="total-price">${{ order.price }}</span></div>
          <div class="clear"></div>
          <div class="delivery-info-form top-20">
            <div class="js-required dont-spill">
              <span class="delivery-type-text">Deliver my order </span><select class="delivery-selection delivery-type left" name="delivery-type">
                <option value="dis" disabled>when?</option>
                <option value="now">ASAP!</option>
                <option value="later" selected>later.</option>
              </select>
              <div class="delivery-date-holder">
                <select class="delivery-selection delivery-date" name="delivery-date">
                  <option value="dis" disabled selected>Date..</option>
                </select>
              </div>
              <div class="delivery-time-holder">
                <select class="delivery-selection delivery-time" name="delivery-time">
                  <option value="dis" disabled selected>Time?</option>
                </select>
              </div>
              <div class="delivery-asap-info">
                <p>
                  <b>Note:</b> RollerBakers is open from 9PM-12AM Monday through Friday, and your order will be delivered at that time.
                </p>
              </div>
            </div>
          </div>
          <button name="action" value="checkout" class="confirm-order confirm-order-btn btn big-action-btn green{% if order.products.length == 0 %} disabled{% endif %}"{% if order.products.length == 0 %} disabled{% endif %}>Confirm Order</button>
          <div class="fa-refresh-div hide">
            <i class="fa fa-refresh fa-spin"></i>
          </div>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <input type="hidden" name="_csrf" value="{{ csrfToken }}" />
  </form>
  </section>
  <div class="clear order-bottom"></div>
</section>
{% endblock body %}
